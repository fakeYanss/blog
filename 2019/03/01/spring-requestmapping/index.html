<!DOCTYPE html>
<html lang="zh-Hans">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="201902W9 Review, ä¸€ç¯‡å…³äºSpring RequestMappingçš„è¯‘æ–‡">
    

    <!--Author-->
    
        <meta name="author" content="fakeyanss">
    

    <!-- Title -->
    
    <title>Spring @RequestMappingè¯¦è§£ | Yet Another Possibility</title>

    <!-- Bootstrap Core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Noto+Serif:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- jQuery -->
    <script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <!-- Content -->
    <section class="article-container">
<!-- Back Home -->
<a class="nav-back" href="/">
    <i class="fa fa-puzzle-piece"></i>
</a>

<!-- Page Header -->
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Spring @RequestMappingè¯¦è§£</h1>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Main Content -->
            <div class="post-content col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>201902W9 Review, ä¸€ç¯‡å…³äºSpring RequestMappingçš„è¯‘æ–‡<br><a id="more"></a></p>
<hr>
<h1 id="Spring-RequestMapping"><a href="#Spring-RequestMapping" class="headerlink" title="Spring RequestMapping"></a>Spring RequestMapping</h1><p><a href="https://www.baeldung.com/spring-requestmapping" target="_blank" rel="noopener">åŸæ–‡</a><br>by <a href="https://www.baeldung.com/author/eugen/" target="_blank" rel="noopener">Eugen Paraschiv</a></p>
<h2 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h2><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å…³æ³¨äºè¿™ä¸ªSpring MVCä¸­å¸¸ç”¨çš„æ³¨é‡Š - @RequestMappingã€‚</p>
<p>ç®€å•åœ°è¯´ï¼Œè¿™ä¸ªæ³¨é‡Šç”¨äºå°†ç½‘ç»œè¯·æ±‚æ˜ å°„åˆ°Spring Controllerçš„æ–¹æ³•ã€‚</p>
<h2 id="2-RequestMappingåŸºç¡€"><a href="#2-RequestMappingåŸºç¡€" class="headerlink" title="2. @RequestMappingåŸºç¡€"></a>2. <em>@RequestMapping</em>åŸºç¡€</h2><p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å¼€å§‹ - æŒ‰ç…§ä¸€äº›åŸºæœ¬çš„æ ‡å‡†å°†ä¸€ä¸ªHTTPè¯·æ±‚æ˜ å°„åˆ°ä¸€ä¸ªæ–¹æ³•ã€‚</p>
<h3 id="2-1-RequestMapping-æŒ‰è·¯å¾„"><a href="#2-1-RequestMapping-æŒ‰è·¯å¾„" class="headerlink" title="2.1. @RequestMapping - æŒ‰è·¯å¾„"></a>2.1. <em>@RequestMapping</em> - æŒ‰è·¯å¾„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos"</span>, method = RequestMethod.GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosBySimplePath</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¦ä½¿ç”¨ç®€å•çš„<em>curl</em>å‘½ä»¤æµ‹è¯•æ­¤æ˜ å°„ï¼Œè¯·è¿è¡Œï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p>
<h3 id="2-2-RequestMapping-HTTPæ–¹æ³•"><a href="#2-2-RequestMapping-HTTPæ–¹æ³•" class="headerlink" title="2.2. @RequestMapping - HTTPæ–¹æ³•"></a>2.2. <em>@RequestMapping</em> - HTTPæ–¹æ³•</h3><p>HTTPæ–¹æ³•å‚æ•°æ²¡æœ‰é»˜è®¤å€¼ - å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä¸æŒ‡å®šå€¼ï¼Œå®ƒå°†æ˜ å°„åˆ°ä»»ä½•HTTPè¯·æ±‚ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œç±»ä¼¼äºå‰ä¸€ä¸ªç¤ºä¾‹ - ä½†è¿™æ¬¡æ˜ å°„åˆ°ä¸€ä¸ªHTTP POSTè¯·æ±‚ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos"</span>, method = POST)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">postFoos</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Post some Foos"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¦é€šè¿‡<em>curl</em>å‘½ä»¤æµ‹è¯•POST ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -X POST http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p>
<h2 id="3-RequestMapping-å’Œ-HTTP-Headers"><a href="#3-RequestMapping-å’Œ-HTTP-Headers" class="headerlink" title="3. RequestMapping å’Œ HTTP Headers"></a>3. RequestMapping å’Œ HTTP Headers</h2><h3 id="3-1-å¸¦æœ‰headers-Attributeçš„-RequestMapping"><a href="#3-1-å¸¦æœ‰headers-Attributeçš„-RequestMapping" class="headerlink" title="3.1. å¸¦æœ‰headers Attributeçš„@RequestMapping"></a>3.1. å¸¦æœ‰headers Attributeçš„<em>@RequestMapping</em></h3><p>ç»™è¯·æ±‚æŒ‡å®šä¸€ä¸ªheaderï¼Œå¯ä»¥è¿›ä¸€æ­¥é™åˆ¶æ˜ å°„èŒƒå›´ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos"</span>, headers = <span class="string">"key=val"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosWithHeader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos with Header"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸ºäº†æµ‹è¯•è¿è¡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<em>curl</em>çš„headerå‚æ•°<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -H <span class="string">"key:val"</span> http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p>
<p>æ›´è¿›ä¸€æ­¥ï¼Œé€šè¿‡ <em>@RequestMapping</em>çš„ <em>header</em>å±æ€§å®ç°å¤šä¸ªheader<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos"</span>, </span><br><span class="line">  headers = &#123; <span class="string">"key1=val1"</span>, <span class="string">"key2=val2"</span> &#125;, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosWithHeaders</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos with Header"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥é€šè¿‡å‘½ä»¤æµ‹è¯•è¿™ä¸ªæ–¹æ³•<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -H <span class="string">"key1:val1"</span> -H <span class="string">"key2:val2"</span> http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p>
<p>æ³¨æ„ï¼Œå¯¹äº<em>curl</em>è¯­æ³•ï¼Œç”¨å†’å·åˆ†ç¦»headerçš„é”®å’Œå€¼ï¼Œä¸HTTPä¸­çš„è§„èŒƒç›¸åŒï¼Œè€Œåœ¨Springä¸­æ˜¯ç”¨ç­‰å·ã€‚</p>
<h3 id="3-2-RequestMapping-æ¶ˆè´¹å’Œç”Ÿäº§"><a href="#3-2-RequestMapping-æ¶ˆè´¹å’Œç”Ÿäº§" class="headerlink" title="3.2. @RequestMapping æ¶ˆè´¹å’Œç”Ÿäº§"></a>3.2. <em>@RequestMapping</em> æ¶ˆè´¹å’Œç”Ÿäº§</h3><p>æ˜ å°„<strong>ç”±Controlleräº§ç”Ÿçš„åª’ä½“ç±»å‹</strong>çš„æ–¹æ³•ç‰¹åˆ«å€¼å¾—æ³¨æ„ - æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šé¢ä»‹ç»çš„ <em>@RequestMapping</em> çš„headerså±æ€§ï¼ŒåŸºäº<em>Accept</em> headeræ˜ å°„è¯·æ±‚ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos"</span>, </span><br><span class="line">  method = GET, </span><br><span class="line">  headers = <span class="string">"Accept=application/json"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosAsJsonFromBrowser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos with Header Old"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åŒ¹é…è¿™ç§å®šä¹‰<em>Accept</em> headerçš„æ–¹æ³•æ˜¯çµæ´»çš„ - æ˜¯ç”¨åŒ…å«è€Œä¸æ˜¯ç­‰äºï¼Œæ‰€ä»¥ä¸€ä¸ªä¸‹é¢è¿™æ ·çš„è¯·æ±‚ä¹Ÿèƒ½æ­£ç¡®åœ°åŒ¹é…ã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H <span class="string">"Accept:application/json,text/html"</span> http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p>
<p>ä»Spring 3.1å¼€å§‹ï¼Œ <strong><em>@RequestMapping</em>æ³¨é‡Šå…·æœ‰produceså’Œconsumeså±æ€§</strong>ï¼Œç‰¹åˆ«æ˜¯ä¸ºäº†è¿™ç§ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos"</span>, </span><br><span class="line">  method = RequestMethod.GET, </span><br><span class="line">  produces = <span class="string">"application/json"</span></span><br><span class="line">)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosAsJsonFromREST</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get some Foos with Header New"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ­¤å¤–ï¼Œå¸¦æœ‰<em>headers</em>å±æ€§çš„æ—§ç±»å‹çš„æ˜ å°„å°†è‡ªåŠ¨è½¬æ¢æˆSpring 3.1å¼€å§‹çš„æ–°<em>produces</em>æœºåˆ¶ï¼Œæ‰€ä»¥ç»“æœæ˜¯ç›¸åŒçš„ã€‚</p>
<p>åŒæ ·çš„æ–¹å¼ï¼Œé€šè¿‡<em>curl</em>è¿›è¡Œconsumeï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H <span class="string">"Accept:application/json"</span> http://localhost:8080/spring-rest/ex/foos</span><br></pre></td></tr></table></figure></p>
<p>å¦å¤–ï¼Œ<em>produces</em>ä¹Ÿæ”¯æŒå¤šå€¼ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos"</span>, </span><br><span class="line">  method = GET,</span><br><span class="line">  produces = &#123; <span class="string">"application/json"</span>, <span class="string">"application/xml"</span> &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>è®°ä½è¿™äº› - æŒ‡å®š<em>accept</em> headerçš„æ—§çš„æ–¹æ³•å’Œæ–°çš„æ–¹æ³• - åŸºæœ¬ä¸Šæ˜¯ç›¸åŒçš„æ˜ å°„ï¼Œæ‰€ä»¥Springä¸å…è®¸å®ƒä»¬ä¸€èµ·ä½¿ç”¨ - ä¸€èµ·ç”¨å°†ä¼šå¯¼è‡´ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.IllegalStateException: Ambiguous mapping found. </span><br><span class="line">Cannot map <span class="string">'fooController'</span> bean method </span><br><span class="line">java.lang.String </span><br><span class="line">org.baeldung.spring.web.controller</span><br><span class="line">  .FooController.getFoosAsJsonFromREST()</span><br><span class="line">to </span><br><span class="line">&#123; [/ex/foos],</span><br><span class="line">  methods=[GET],params=[],headers=[],</span><br><span class="line">  consumes=[],produces=[application/json],custom=[]</span><br><span class="line">&#125;: </span><br><span class="line">There is already <span class="string">'fooController'</span> bean method</span><br><span class="line">java.lang.String </span><br><span class="line">org.baeldung.spring.web.controller</span><br><span class="line">  .FooController.getFoosAsJsonFromBrowser() </span><br><span class="line">mapped.</span><br></pre></td></tr></table></figure></p>
<p>å…³äºæ–°çš„<em>produces</em>å’Œ<em>consumes</em>æœºåˆ¶çš„æœ€åä¸€ç‚¹ - ä¸å…¶ä»–æ³¨é‡Šè¡¨ç°ä¸åŒçš„æ˜¯ - å½“æŒ‡å®šç±»å‹çº§åˆ«æ—¶ï¼Œæ–¹æ³•çº§åˆ«çš„æ³¨é‡Šä¸ä¼šè¡¥å……è€Œä¼šè¦†ç›–ç±»å‹çº§åˆ«çš„ä¿¡æ¯ã€‚</p>
<p>è¿™å¥æ²¡ç†è§£ï¼ŒåŸæ–‡</p>
<blockquote>
<p>when specified at the type level, <strong>the method level annotations do not complement but override</strong> the type level information.</p>
</blockquote>
<p>å½“ç„¶ï¼Œå¦‚æœä½ æƒ³æ·±å…¥äº†è§£ç”¨Springæ„å»ºREST API - è¯·çœ‹<a href="https://www.baeldung.com/rest-with-spring-course?utm_source=blog&amp;utm_medium=web&amp;utm_content=art1&amp;utm_campaign=rws" target="_blank" rel="noopener">the new REST with Spring course</a>ã€‚</p>
<h2 id="4-RequestMappingä½¿ç”¨è·¯å¾„å˜é‡"><a href="#4-RequestMappingä½¿ç”¨è·¯å¾„å˜é‡" class="headerlink" title="4. RequestMappingä½¿ç”¨è·¯å¾„å˜é‡"></a>4. <em>RequestMapping</em>ä½¿ç”¨è·¯å¾„å˜é‡</h2><p>æ˜ å°„URIçš„ä¸€éƒ¨åˆ†å¯ä»¥é€šè¿‡ <em>@PathVariable</em>æ³¨è§£ç»‘å®šåˆ°å˜é‡ã€‚</p>
<h3 id="4-1-å•ä¸ª-PathVariable"><a href="#4-1-å•ä¸ª-PathVariable" class="headerlink" title="4.1 å•ä¸ª @PathVariable"></a>4.1 å•ä¸ª <em>@PathVariable</em></h3><p>ä¸€ä¸ªç®€å•çš„å•è·¯å¾„å˜é‡ä¾‹å­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos/&#123;id&#125;"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosBySimplePathWithPathVariable</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @PathVariable(<span class="string">"id"</span>)</span> <span class="keyword">long</span> id) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Foo with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥ç”¨<em>curl</em>æµ‹è¯•ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:8080/spring-rest/ex/foos/1</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœæ–¹æ³•çš„å‚æ•°åå’Œè·¯å¾„åç›¸åŒï¼Œå¯ä»¥åªç”¨ <em>@PathVariable</em> è€Œä¸é™„åŠ å€¼ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos/&#123;id&#125;"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosBySimplePathWithPathVariable</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @PathVariable String id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Foo with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ³¨æ„ <em>@PathVariable</em> å—åˆ©äºè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¿®é¥°idä¸ºï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PathVariable</span> <span class="keyword">long</span> id</span><br></pre></td></tr></table></figure></p>
<h3 id="4-2-å¤šä¸ª-PathVariable"><a href="#4-2-å¤šä¸ª-PathVariable" class="headerlink" title="4.2 å¤šä¸ª @PathVariable"></a>4.2 å¤šä¸ª <em>@PathVariable</em></h3><p>æ›´å¤æ‚çš„URIå¯èƒ½éœ€è¦æ˜ å°„URIçš„å¤šä¸ªéƒ¨åˆ†åˆ°å¤šä¸ªå€¼ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/foos/&#123;fooid&#125;/bar/&#123;barid&#125;"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String getFoosBySimplePathWithPathVariables</span><br><span class="line">  (<span class="meta">@PathVariable</span> <span class="keyword">long</span> fooid, <span class="meta">@PathVariable</span> <span class="keyword">long</span> barid) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Bar with id="</span> + barid + </span><br><span class="line">      <span class="string">" from a Foo with id="</span> + fooid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åŒæ ·è¿™å¯ä»¥ç”¨<em>curl</em>å®¹æ˜“çš„æµ‹è¯•ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:8080/spring-rest/ex/foos/1/bar/2</span><br></pre></td></tr></table></figure></p>
<h3 id="4-3-å¸¦æ­£åˆ™è¡¨è¾¾å¼çš„-PathVariable"><a href="#4-3-å¸¦æ­£åˆ™è¡¨è¾¾å¼çš„-PathVariable" class="headerlink" title="4.3 å¸¦æ­£åˆ™è¡¨è¾¾å¼çš„ @PathVariable"></a>4.3 å¸¦æ­£åˆ™è¡¨è¾¾å¼çš„ <em>@PathVariable</em></h3><p>æ­£åˆ™è¡¨è¾¾å¼ä¹Ÿèƒ½ç”¨æ¥æ˜ å°„ <em>@PathVariable</em>ï¼›ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶æ˜ å°„idåªæ¥å—æ•°å­—ç±»å‹çš„å€¼ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/bars/&#123;numericId:[\\d]+&#125;"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBarsBySimplePathWithPathVariable</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @PathVariable <span class="keyword">long</span> numericId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Bar with id="</span> + numericId;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™å°†æ„å‘³ç€ä¸‹é¢çš„URIå¯ä»¥é€‚é…ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/spring-rest/ex/bars/1</span><br></pre></td></tr></table></figure></p>
<p>ä½†è¿™ä¸ªä¸èƒ½ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/spring-rest/ex/bars/abc</span><br></pre></td></tr></table></figure></p>
<h2 id="5-RequestMappingä½¿ç”¨Request-Parameters"><a href="#5-RequestMappingä½¿ç”¨Request-Parameters" class="headerlink" title="5. RequestMappingä½¿ç”¨Request Parameters"></a>5. <em>RequestMapping</em>ä½¿ç”¨Request Parameters</h2><p>@RequestMappingå…è®¸æ–¹ä¾¿çš„ä½¿ç”¨ <em>@RequestParam</em>æ³¨è§£æ˜ å°„URLå‚æ•°ã€‚</p>
<p>æˆ‘ä»¬ç°åœ¨æ˜ å°„ä¸€ä¸ªè¿™æ ·çš„URIè¯·æ±‚ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/spring-rest/ex/bars?id=100</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/bars"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBarBySimplePathWithRequestParam</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @RequestParam(<span class="string">"id"</span>)</span> <span class="keyword">long</span> id) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Bar with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ¥ç€åœ¨controlleræ–¹æ³•ä¸­ä½¿ç”¨ <em>@RequestParam(â€œidâ€)</em> æ³¨è§£å–å‡º<em>id</em>å‚æ•°çš„å€¼ã€‚</p>
<p>è¦å‘é€å¸¦<em>id</em>å‚æ•°çš„è¯·æ±‚ï¼Œæˆ‘ä»¬åœ¨<em>curl</em>ä¸­ä½¿ç”¨å‚æ•°æ”¯æŒï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -d id=100 http://localhost:8080/spring-rest/ex/bars</span><br></pre></td></tr></table></figure></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‚æ•°ç›´æ¥ç»‘å®šè€Œä¸å…ˆå£°æ˜ã€‚</p>
<p>å¯¹äºæ›´è¿›ä¸€æ­¥çš„åœºæ™¯ï¼Œ <em>@RequestMapping</em>æœ‰å¯é€‰çš„å‚æ•°å®šä¹‰ - ä½œä¸ºåˆä¸€ä¸ªé™åˆ¶è¯·æ±‚æ˜ å°„çš„æ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/ex/bars"</span>, params = <span class="string">"id"</span>, method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBarBySimplePathWithExplicitRequestParam</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @RequestParam(<span class="string">"id"</span>)</span> <span class="keyword">long</span> id) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Get a specific Bar with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç”šè‡³å¯ä»¥æ›´çµæ´»çš„æ˜ å°„ - å¯ä»¥è®¾ç½®å¤šä¸ª<em>params</em>å€¼ï¼Œå¹¶ä¸”ä¸æ˜¯æ‰€æœ‰éƒ½ä½¿ç”¨ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/bars"</span>, </span><br><span class="line">  params = &#123; <span class="string">"id"</span>, <span class="string">"second"</span> &#125;, </span><br><span class="line">  method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBarBySimplePathWithExplicitRequestParams</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  @RequestParam(<span class="string">"id"</span>)</span> <span class="keyword">long</span> id) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Narrow Get a specific Bar with id="</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å½“ç„¶ï¼Œä¸€ä¸ªåƒè¿™æ ·çš„è¯·æ±‚URIï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/spring-rest/ex/bars?id=100&amp;second=something</span><br></pre></td></tr></table></figure></p>
<p>å°†æ€»ä¼šè¢«æ˜ å°„åˆ°æœ€å¥½çš„é€‚é… - æ›´è¿›ä¸€æ­¥çš„é€‚é…ï¼ŒåŒæ—¶å®šä¹‰<em>id</em>å’Œ<em>second</em>å‚æ•°ã€‚</p>
<h2 id="6-RequestMapping-Corner-Cases"><a href="#6-RequestMapping-Corner-Cases" class="headerlink" title="6. RequestMapping Corner Cases"></a>6. <em>RequestMapping</em> Corner Cases</h2><h3 id="6-1-RequestMapping-â€“-å¤šä¸ªè·¯å¾„æ˜ å°„åˆ°åŒä¸€Controlleræ–¹æ³•"><a href="#6-1-RequestMapping-â€“-å¤šä¸ªè·¯å¾„æ˜ å°„åˆ°åŒä¸€Controlleræ–¹æ³•" class="headerlink" title="6.1. @RequestMapping â€“ å¤šä¸ªè·¯å¾„æ˜ å°„åˆ°åŒä¸€Controlleræ–¹æ³•"></a>6.1. <em>@RequestMapping</em> â€“ å¤šä¸ªè·¯å¾„æ˜ å°„åˆ°åŒä¸€Controlleræ–¹æ³•</h3><p>è™½ç„¶ä¸€ä¸ªå•ä¸ª <em>@RequestMapping</em>è·¯å¾„å€¼é€šå¸¸ç”¨äºå•ä¸ªcontrolleræ–¹æ³•ï¼Œ ä½†è¿™åªæ˜¯ä¸€ç§å¥½çš„ç”¨æ³•ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶è§„åˆ™ - æœ‰ä¸€äº›æƒ…å†µä¸‹ï¼Œå¤šä¸ªè¯·æ±‚åˆ°åŒä¸€æ–¹æ³•çš„å¯èƒ½æ˜¯å¿…è¦çš„ã€‚åœ¨é‚£ç§æƒ…å†µä¸‹ï¼Œ <strong>@RequestMappingçš„valueå±æ€§æ¥æ”¶å¤šä¸ªæ˜ å°„</strong>ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ˜ å°„ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = &#123; <span class="string">"/ex/advanced/bars"</span>, <span class="string">"/ex/advanced/foos"</span> &#125;, </span><br><span class="line">  method = GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFoosOrBarsByPath</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Advanced - Get some Foos or Bars"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨ï¼Œè¿™ä¸¤ä¸ª<em>curl</em>å‘½ä»¤åº”è¯¥ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -i http://localhost:8080/spring-rest/ex/advanced/foos</span><br><span class="line">curl -i http://localhost:8080/spring-rest/ex/advanced/bars</span><br></pre></td></tr></table></figure></p>
<h3 id="6-2-RequestMapping-â€“-å¤šä¸ªHTTPè¯·æ±‚æ–¹æ³•åˆ°åŒä¸€ä¸ªcontrolleræ–¹æ³•"><a href="#6-2-RequestMapping-â€“-å¤šä¸ªHTTPè¯·æ±‚æ–¹æ³•åˆ°åŒä¸€ä¸ªcontrolleræ–¹æ³•" class="headerlink" title="6.2. @RequestMapping â€“ å¤šä¸ªHTTPè¯·æ±‚æ–¹æ³•åˆ°åŒä¸€ä¸ªcontrolleræ–¹æ³•"></a>6.2. <em>@RequestMapping</em> â€“ å¤šä¸ªHTTPè¯·æ±‚æ–¹æ³•åˆ°åŒä¸€ä¸ªcontrolleræ–¹æ³•</h3><p>ç”¨ä¸åŒHTTPè¯·æ±‚æ–¹å¼çš„å¤šä¸ªè¯·æ±‚å¯ä»¥è¢«æ˜ å°„åˆ°åŒä¸€ä¸ªControlleræ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"/ex/foos/multiple"</span>, </span><br><span class="line">  method = &#123; RequestMethod.PUT, RequestMethod.POST &#125;</span><br><span class="line">)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">putAndPostFoos</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Advanced - PUT and POST within single method"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç”¨<em>curl</em>ï¼Œè¿™äº›è¯·æ±‚éƒ½è¢«æ‰“åˆ°åŒä¸€ä¸ªæ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -i -X POST http:<span class="comment">//localhost:8080/spring-rest/ex/foos/multiple</span></span><br><span class="line">curl -i -X PUT http:<span class="comment">//localhost:8080/spring-rest/ex/foos/multiple</span></span><br></pre></td></tr></table></figure></p>
<h3 id="6-3-RequestMapping-å¯¹æ‰€æœ‰è¯·æ±‚çš„è¿”å›"><a href="#6-3-RequestMapping-å¯¹æ‰€æœ‰è¯·æ±‚çš„è¿”å›" class="headerlink" title="6.3. @RequestMapping - å¯¹æ‰€æœ‰è¯·æ±‚çš„è¿”å›"></a>6.3. <em>@RequestMapping</em> - å¯¹æ‰€æœ‰è¯·æ±‚çš„è¿”å›</h3><p>å¯¹æ‰€æœ‰è¯·æ±‚å®ç°ä¸€ä¸ªè¿”å›ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªç‰¹åˆ«çš„HTTPæ–¹æ³• - ä¾‹å¦‚ï¼Œå¯¹GETæ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"*"</span>, method = RequestMethod.GET)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Fallback for GET Requests"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æˆ–è€…å¯¹æ‰€æœ‰è¯·æ±‚ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(</span><br><span class="line">  value = <span class="string">"*"</span>, </span><br><span class="line">  method = &#123; RequestMethod.GET, RequestMethod.POST ... &#125;)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">allFallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Fallback for All Requests"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="6-4-æ¨¡ç³Šæ˜ å°„é”™è¯¯"><a href="#6-4-æ¨¡ç³Šæ˜ å°„é”™è¯¯" class="headerlink" title="6.4 æ¨¡ç³Šæ˜ å°„é”™è¯¯"></a>6.4 æ¨¡ç³Šæ˜ å°„é”™è¯¯</h3><p>æ¨¡ç³Šæ˜ å°„é”™è¯¯å‘ç”Ÿä¸ï¼šå½“Springè¯„ä¼°ä¸¤ä¸ªæˆ–å¤šä¸ªè¯·æ±‚æ˜ å°„å¯¹äºä¸åŒçš„Controlleræ–¹æ³•æ˜¯ç›¸åŒçš„ã€‚å½“ä¸¤ä¸ªè¯·æ±‚æ˜ å°„æœ‰åŒæ ·çš„HTTPæ–¹æ³•ã€URLã€å‚æ•°ã€å¤´éƒ¨å’Œåª’ä½“ç±»å‹æ—¶ï¼Œå®ƒä»¬å°±æ˜¯ç›¸åŒçš„ã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¨¡ç³Šæ˜ å°„ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"foos/duplicate"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">duplicate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Duplicate"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"foos/duplicate"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">duplicateEx</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Duplicate"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æŠ›å‡ºçš„å¼‚å¸¸é€šå¸¸åœ¨è¿™äº›è¡Œæœ‰å¼‚å¸¸ä¿¡æ¯ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.IllegalStateException: Ambiguous mapping.</span><br><span class="line">  Cannot map <span class="string">'fooMappingExamplesController'</span> method </span><br><span class="line">  <span class="keyword">public</span> java.lang.String org.baeldung.web.controller.FooMappingExamplesController.duplicateEx()</span><br><span class="line">  to &#123;[/ex/foos/duplicate],methods=[GET]&#125;:</span><br><span class="line">  There is already <span class="string">'fooMappingExamplesController'</span> bean method</span><br><span class="line">  <span class="keyword">public</span> java.lang.String org.baeldung.web.controller.FooMappingExamplesController.duplicate() mapped.</span><br></pre></td></tr></table></figure></p>
<p>ä»”ç»†é˜…è¯»é”™è¯¯ä¿¡æ¯ï¼ŒæŒ‡å‡ºSpringä¸èƒ½æ˜ å°„æ–¹æ³•<em>org.baeldung.web.controller.FooMappingExamplesController.duplicateEx()</em> ï¼Œå› ä¸ºå®ƒä¸ä¸€ä¸ªå·²ç»æ˜ å°„çš„<em>org.baeldung.web.controller.FooMappingExamplesController.duplicate()</em> æœ‰å†²çªã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªä»£ç æ®µå°†ä¸ä¼šäº§ç”Ÿæ¨¡ç³Šæ˜ å°„é”™è¯¯ï¼Œå› ä¸ºä¸¤ä¸ªæ–¹æ³•è¿”å›ä¸åŒçš„å†…å®¹ç±»å‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"foos/duplicate"</span>, produces = MediaType.APPLICATION_XML_VALUE)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">duplicate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Duplicate"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"foos/duplicate"</span>, produces = MediaType.APPLICATION_JSON_VALUE)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">duplicateEx</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Duplicate"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="7-æ–°çš„è¯·æ±‚æ˜ å°„æ·å¾„"><a href="#7-æ–°çš„è¯·æ±‚æ˜ å°„æ·å¾„" class="headerlink" title="7. æ–°çš„è¯·æ±‚æ˜ å°„æ·å¾„"></a>7. æ–°çš„è¯·æ±‚æ˜ å°„æ·å¾„</h2><p>Spring Framework 4.3å¼•å…¥äº†<a href="https://www.baeldung.com/spring-new-requestmapping-shortcuts" target="_blank" rel="noopener">ä¸€äº›æ–°çš„</a>HTTPæ˜ å°„æ³¨é‡Šï¼Œæ‰€æœ‰è¿™äº›éƒ½åŸºäº <em>@RequestMapping</em> ï¼š</p>
<ul>
<li><strong>@GetMapping</strong></li>
<li><strong>@PostMapping</strong></li>
<li><strong>@PutMapping</strong></li>
<li><strong>@DeleteMapping</strong></li>
<li><strong>@PatchMapping</strong></li>
</ul>
<p>è¿™äº›æ–°çš„æ³¨è§£å¯ä»¥æé«˜å¯è¯»æ€§ï¼Œå‡å°‘ä»£ç å†—é•¿ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›æ–°çš„æ³¨è§£åœ¨åˆ›å»ºä¸€ä¸ªæ”¯æŒCRUDæ“ä½œRESTFUL APIçš„å®ä¾‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/&#123;id&#125;"</span>)</span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; getBazz(<span class="meta">@PathVariable</span> String id)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(<span class="keyword">new</span> Bazz(id, <span class="string">"Bazz"</span>+id), HttpStatus.OK);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; newBazz(<span class="meta">@RequestParam</span>(<span class="string">"name"</span>) String name)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(<span class="keyword">new</span> Bazz(<span class="string">"5"</span>, name), HttpStatus.OK);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@PutMapping</span>(<span class="string">"/&#123;id&#125;"</span>)</span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; updateBazz(</span><br><span class="line">  <span class="meta">@PathVariable</span> String id,</span><br><span class="line">  <span class="meta">@RequestParam</span>(<span class="string">"name"</span>) String name) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(<span class="keyword">new</span> Bazz(id, name), HttpStatus.OK);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@DeleteMapping</span>(<span class="string">"/&#123;id&#125;"</span>)</span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; deleteBazz(<span class="meta">@PathVariable</span> String id)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(<span class="keyword">new</span> Bazz(id), HttpStatus.OK);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ·±å…¥äº†è§£è¿™äº›å¯ä»¥åœ¨<a href="https://www.baeldung.com/spring-new-requestmapping-shortcuts" target="_blank" rel="noopener">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p>
<h2 id="8-Springé…ç½®"><a href="#8-Springé…ç½®" class="headerlink" title="8. Springé…ç½®"></a>8. Springé…ç½®</h2><p>Spring MVCçš„é…ç½®è¶³å¤Ÿç®€å• - è€ƒè™‘åˆ°æˆ‘ä»¬çš„<em>FooController</em>è¢«å®šä¹‰åœ¨æ¥ä¸‹æ¥çš„åŒ…é‡Œ:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.baeldung.spring.web.controller;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FooController</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬åªç”¨ä¸€ä¸ª <em>@Configuration</em> å»å¯ç”¨å®Œæ•´çš„MVCæ”¯æŒå¹¶ä¸ºæ§åˆ¶å™¨é…ç½®ç±»è·¯å¾„æ‰«æï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(&#123; <span class="string">"org.baeldung.spring.web.controller"</span> &#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MvcConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="9-ç»“è®º"><a href="#9-ç»“è®º" class="headerlink" title="9. ç»“è®º"></a>9. ç»“è®º</h2><p>è¿™ç¯‡æ–‡ç« ä¸“æ³¨äº<strong>Springçš„ <em>@RequestMapping</em> æ³¨è§£</strong> - è®¨è®ºä¸€ä¸ªç®€å•çš„ç”¨ä¾‹, HTTPå¤´çš„æ˜ å°„, <em>@PathVariable</em> ç»‘å®šURIéƒ¨åˆ†, ä½¿ç”¨URLå‚æ•°å·¥ä½œ, å’Œä½¿ç”¨ <em>@RequestParam</em> æ³¨è§£.</p>
<p>å¦‚æœä½ æƒ³å­¦ä¹ å¦‚ä½•ä½¿ç”¨å¦ä¸€ä¸ªSpring MVCçš„æ ¸å¿ƒæ³¨è§£, ä½ å¯ä»¥<a href="https://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation" target="_blank" rel="noopener">åœ¨è¿™æµè§ˆ <em>@ModelAttribu</em> æ³¨è§£</a>.</p>
<p>è¿™ç¯‡æ–‡ç« çš„å…¨éƒ¨ä»£ç åœ¨<a href="https://github.com/eugenp/tutorials/tree/master/spring-rest-simple" target="_blank" rel="noopener">Github</a>å¯è§. è¿™æ˜¯ä¸€ä¸ªMavené¡¹ç›®, æ‰€ä»¥å®ƒå¯ä»¥å¾ˆå®¹æ˜“è¢«å¯¼å…¥å’Œè¿è¡Œ.</p>
<p><br></p>
<hr>
<p id="div-border-left-red"><i>DigitalOcean ä¼˜æƒ ç ï¼Œæ³¨å†Œå……å€¼ $5 é€ $100ï¼Œ<a href="https://m.do.co/c/282d5e1cf06e" target="_blank" rel="noopener">é“¾æ¥ä¸€</a> <a href="https://m.do.co/c/5eefb87c26cd" target="_blank" rel="noopener">é“¾æ¥äºŒ</a></i></p><br><p id="div-border-left-red"><i>Lastly, welcome to follow me on <a href="https://github.com/fakeYanss" target="_blank" rel="noopener">github</a></i></p>
 
                <!-- Meta -->
                <div class="post-meta">
                    <hr>
                    <br>
                    <div class="post-tags">
                        
                            

<a href="/tags/Review/">#Review</a> <a href="/tags/Spring/">#Spring</a> <a href="/tags/RequestMapping/">#RequestMapping</a>


                        
                    </div>
                    <div class="post-date">
                        
                            2019 å¹´ 03 æœˆ 01 æ—¥
                        
                    </div>
                </div>
            </div>

            <!-- Comments -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- Disqus Comments -->

<div id="disqus_thread" class="comment"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES * * */
  var disqus_shortname = 'you-yue-ru-tie';

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


            </div>
        </div>
    </div>
</article>
</section>

<!-- Image viewer-->

    <!-- Custom picture view-->
    <link href="/css/viewer.min.css" rel="stylesheet" />
    <script
      src="/js/viewer.min.js"
      type="text/javascript"
      charset="utf-8"
    ></script>
    
    <script type="text/javascript">
      // set image viewer
      Viewer.setDefaults({
        zoomRatio: [0.5],
        navbar: false,
        toolbar: false,
        button: false,
        title: [2, (image, imageData) => `${image.alt}`],
        show: function() {
          this.viewer.zoomTo(0.5);
        }
      });
      var imageList = document.getElementsByTagName("img");
      Array.prototype.forEach.call(imageList, element => {
        var viewer = new Viewer(element);
      });
    </script>

    
    <!-- Scripts -->
    <script type="text/javascript">
    console.log("Â© zchen9 ğŸ™‹ 2015-" + new Date().getFullYear());
</script>
  
    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-112380656-1', 'auto');
        ga('send', 'pageview');

    </script>


    <!-- Service Worker -->
    <!-- if using service worker -->

    
</body>

</html>